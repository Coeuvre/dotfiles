################################################################################
#
# General
#
################################################################################

#set-option -g default-shell /usr/bin/fish

# Remap prefix to 'C-a'
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Make window/pane index start with 1
set -g base-index 1
set -g pane-base-index 1

set -g history-limit 65536

# Automatically renumber tmux windows
set -g renumber-windows on

# Make delay shorter
set -s escape-time 0

set-option -g set-titles on
set-option -g set-titles-string "#T - #W"

setw -g monitor-activity off
set -g visual-activity off

################################################################################
#
# Key Bindings
#
################################################################################

# Reload config file
bind r source-file ~/.tmux.conf \; display "Config Reloaded!"

# Split window
bind c new-window -c "#{pane_current_path}"
bind s split-window -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"

# Resize pane
bind -r h resize-pane -L 5
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5

# Mouse support
set-option -g mouse off

# Set vi mode for copy mode
setw -g mode-keys vi
bind -t vi-copy v begin-selection
bind -t vi-copy y copy-selection

# Smart pane switching with awareness of vim splits
# See: https://github.com/christoomey/vim-tmux-navigator
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?x?)(diff)?$"'
bind -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"

bind C-l send-keys 'C-l'
bind C-k send-keys 'C-k'

################################################################################
#
# Colors
#
################################################################################

# Display things in 256 colors
set -g default-terminal "screen-256color"

set-option -g status-bg black
set-option -g status-fg white
set-option -g status-attr dim

# Set window list colors - red for active and cyan for inactive
set-window-option -g window-status-fg white
set-window-option -g window-status-bg black
set-window-option -g window-status-attr dim
set-window-option -g window-status-current-fg black
set-window-option -g window-status-current-bg white
set-window-option -g window-status-current-attr bright

# Set pane colors - hilight the active pane
set-option -g pane-border-fg red
set-option -g pane-active-border-fg green

# Colorize messages in the command line
set-option -g message-bg black #base02
set-option -g message-fg brightred #orange

# Status bar
set -g status-left-length 40
set -g status-left ' #[fg=yellow]#H#[fg=green]:#[fg=white]#S #[fg=green]][#[default]'
set -g status-right '#[fg=green]][ #[fg=yellow]%H:%M #[default]'

################################################################################
#
# Plugins
#
################################################################################

set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'tmux-plugins/tmux-sensible'

#
# tmux-yank
#
# OS X requirements
#
# reattach-to-user-namespace
#
# Install with brew $ brew install reattach-to-user-namespace or macports $ sudo port install tmux-pasteboard.
#
# Note: Beginning with OSX Yosemite (10.10), pbcopy is reported to work correctly with tmux, so we believe reattach-to-user-namespace is not needed anymore. Please install it in case the plugin doesn't work for you.
#
#
# Linux requirements
#
# xclip OR xsel command
#
# You most likely already have one of them, but if not:
# Debian / Ubuntu: $ sudo apt-get install xclip or $ sudo apt-get install xsel
# Red hat / CentOS: $ yum install xclip or $ yum install xsel
#
#
# Cygwin requirements
#
# putclip command
#
# Get the command by installing cygutils-extra package with Cygwin's setup*.exe.
#
set -g @plugin 'tmux-plugins/tmux-yank'

set -g @plugin 'tmux-plugins/tmux-copycat'

set -g @plugin 'tmux-plugins/tmux-resurrect'

run '~/.tmux/plugins/tpm/tpm'
